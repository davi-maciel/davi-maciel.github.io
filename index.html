<!DOCTYPE html>
<html>

<head>
    <title>algos</title>
</head>

<body>
    <div>
        <label for="sortingSelect">Select sorting algorithm: </label>
        <select id="sortingSelect">
            <option id="quicksort">quicksort</option>
            <option id="mergesort">mergesort</option>
        </select>
    </div>
    <div>
        <label for="inputArray">Input array (comma separated): </label>
        <input id="inputArray" , placeholder="e.g. 4, 8, 2, 5">
    </div>
    <div>
        <button id="sortBtn">Sort!</button>
    </div>
    <p id="output"></p>
    <script>
        function quicksort(arr) {
            if (arr.length <= 1) return arr;
            const pivot = arr[Math.floor(arr.length / 2)];
            const left = arr.filter(x => x < pivot);
            const equal = arr.filter(x => x === pivot);
            const right = arr.filter(x => x > pivot);
            return [...quicksort(left), ...equal, ...quicksort(right)];
        }

        function mergesort(arr) {
            if (arr.length <= 1) return arr;
            const mid = Math.floor(arr.length / 2);
            const left = mergesort(arr.slice(0, mid));
            const right = mergesort(arr.slice(mid));
            const merged = [];
            let i = 0, j = 0;
            while (i < left.length || j < right.length) {
                if (j === right.length || (i < left.length && left[i] <= right[j])) {
                    merged.push(left[i++]);
                } else {
                    merged.push(right[j++]);
                }
            }
            return merged;
        }

        document.getElementById("sortBtn").addEventListener("click", () => {
            const raw = document.getElementById("inputArray").value.trim();
            const algo = document.getElementById("sortingSelect").value;
            const outputEl = document.getElementById("output");

            if (!raw) {
                outputEl.textContent = "Please input an array.";
                return;
            }

            const nums = raw.split(", ")
                .map(s => s.trim())
                .filter(s => s.length)
                .map(Number);

            if (nums.some(Number.isNaN)) {
                outputEl.textContent = "Please input comma-separated integers.";
                return;
            }

            const sorted = (algo === "quicksort") ? quicksort(nums)
                : (algo === "mergesort") ? mergesort(nums)
                    : nums;

            outputEl.textContent = `Sorted: [${sorted.join(", ")}]`;
        });
    </script>
</body>

</html>